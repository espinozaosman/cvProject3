<!doctype html>
<html>

<!-- Mirrored from thetav.online/html/picard/single-blog.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 24 Nov 2021 21:05:36 GMT -->
<head>
    <meta charset="UTF-8">
    <title>RUDOLF IVANKOVIC</title>
	
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/bootstrap.css"/> <!-- bootstrap grid -->
    <link rel="stylesheet" href="css/style.css"/> <!-- template css -->
    <link rel="stylesheet" href="css/reset.css"/> <!-- reset css -->
    <link href="perfect-scrollbar/perfect-scrollbar.css" rel="stylesheet" /> <!-- right menu scrollbar css -->   
    
     <!-- Color Alternatives -->   
    <link href="css/colors/switcher.css" rel="stylesheet" type="text/css">
    <link href="css/colors/color-1.css" rel="stylesheet" type="text/css">
    <link href="css/colors/color-2.css" rel="alternate stylesheet" type="text/css" title="color-2">
    <link href="css/colors/color-3.css" rel="alternate stylesheet" type="text/css" title="color-3">
    <link href="css/colors/color-4.css" rel="alternate stylesheet" type="text/css" title="color-4">
    <link href="css/colors/color-5.css" rel="alternate stylesheet" type="text/css" title="color-5">
    <link href="css/colors/color-6.css" rel="alternate stylesheet" type="text/css" title="color-6">
    <link href="css/colors/color-7.css" rel="alternate stylesheet" type="text/css" title="color-7">
    <link href="css/colors/color-8.css" rel="alternate stylesheet" type="text/css" title="color-8">
    
    <!-- Google Web fonts -->
    <link href='https://fonts.googleapis.com/css?family=Lato:400,700,900' rel='stylesheet' type='text/css'>
    
    <!-- Font icons -->
    <link rel="stylesheet" href="icon-fonts/font-awesome-4.4.0/css/font-awesome.min.css"/> <!-- Fontawesome icons css -->
    
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
        
</head>

<body>
	 <!-- Preloading --> 
    <div id="preloader">
        <div class="spinner">
            <div class="rect1"></div>
            <div class="rect2"></div>
            <div class="rect3"></div>
            <div class="rect4"></div>
            <div class="rect5"></div>
        </div>
    </div>
   
   
    <div class="parallax"> </div>
    <div id="wrapper">
        <div class="container">
            <div class="row">
            	
                <!-- Profile Informations-->
                <div class="profile col-md-3 wow fadeInDown">
                    <div class="profile-image">
                        <img src="images/image_2021_11_25T12_00_57_346Z.png">
                    </div>
                    <div class="profile-info">
                    	<div class="name-job">
                            <h1>RUDOLF IVANKOVIC</h1>
                            <span class="job"> Experienced Web & Mobile Developer </span>
                        </div><!-- .name-job -->                        
                         
                    </div>
                </div> <!--.profile .col-md-3-->
                
                <!--Right Section-->
                <div class="col-md-9">
                    	<!--Top Menu -->
                        <div class="responsive-menu hidden-md hidden-lg">MENU</div> 
                        <i class="fa fa-bars right-menu"></i> 
                    	<ul class="top-menu wow fadeInRight">
                        	<li> <a href="index.html"><i class="fa fa-user"></i> <span> ABOUT </span></a></li>
                            <li> <a href="index.html#blog"><i class="fa fa-rotate-left"></i> <span >BACK BLOG PAGE</span></a></li>
                        </ul>
                   
                    <!--Right Content-->
                    <div class="content col-md-12 wow fadeInUp">
                    	<div class="row">
                    		<div class="page-title">
                           		<h2>Blog Posts </h2>
                            </div>
                            <div class="col-md-12 page">
                            	<!--Blog Post -->
                                <div class="col-md-12 blog-post">
                                	<div class="post-image">
                                    	<img src="images/sprinkles.webp" alt="">                                       
                                    </div> 
                                    <div class="post-title">
                                    	<h1>JavaScript-sprinkled Rails Applications</h1> 
                                    </div>  
                                    <div class="post-info">
                                    	<span>August 31st, 2021</span>
                                    </div>  
                                    <p>Rails' fragment caching produces greater speedups when a bigger part of the page is cached. This is more difficult for pages with a lot of dynamic or user-specific content.<br>
                                    A solution is to use “JavaScript sprinkles”, which is like hagelslag, but without the chocolate and with extra requests to load user-specific content after the rest of the page is directly served from the cache.</p>
                                    <br>
                                    <h2><strong>Fragment caching</strong></h2>
                                    <br>
                                    <p>Techniques like fragment caching are used to speed up responses in Rails
                                        applications by caching fragments of the rendered page. <br>By using smart cache
                                        keys, the fragments are automatically invalidated when their content changes
                                        because the data shown in the view is updated.<br>

                                        Caching view fragments provides a larger speed boost from a smaller cache when
                                        the cached fragments are used more often. <br>When the content of the page
                                        depends on the currently signed in user, for example, caching the page's
                                        fragments becomes more difficult.</p>
                                    <br>

                                    <h2><strong>Unread Responses</strong></h2>
                                    <br>
                                    <p>As an example, let's take a Rails-based blog. <br>On this blog, each article can have
                                        a number of responses. <br>An authentication system was added to allow users to sign
                                        in and post responses with their accounts. <br>On each article page, we list the
                                        responses. <br>To make it easier for our users, we mark the new responses with an
                                        icon and a different background color.

                                    </p>
                                    <br>
                                    
                                        <img src="images/unread.png">
                                    
                                    <br>
                                    <p>If we wrap each article in a cache block, we run the risk of marking the wrong
                                        responses as unread. When a user requests the index page, the response is
                                        cached. When another user requests the same page later, they will receive the
                                        cached fragment, with the unread responses of the first user.

                                    </p>
                                    <br>
                                    <img src="images/Blog-3-1.png" style="border: 2px solid gray; border-radius: 2%;">
                                    <br>
                                    <br>
                                    
                                  
                                  <br>
                                  <p>A way to solve this is by adding the currently signed in user to the cache key by using [@article, @current_user] instead of just @article as the argument passed to the cache helper method.</p>
                                  <br>
                                  <img src="images/Blog-3-2.png" style="border: 2px solid gray; border-radius: 2%;">
                                  <br>
                                  <br>
                                  <p>This ensures that each user sees their own unread responses, but negates most of the speedup from caching the fragments, as the article fragments are now cached separately for each user.</p>
                                  <br>
                                  <h2><strong>JavaScript Sprinkles</strong></h2>
                                  <br>
                                  <p>Since most of the page is the same for all users, we'd like to reuse the cached article fragment for each visitor. To do this, we can load the article from the cache and add an extra request to fetch the user-specific content after the page is loaded through a JavaScript request. Using a sprinkle of JavaScript functionality for this has a couple of advantages:</p>
                                  <br>
                                  <p class="education-info">The page can be cached once and be reused for
                                      unauthenticated guests, as well as other users without having to separately cache
                                      fragments for every user.</p>
                                  <p class="education-info">The most important content is loaded first for the fastest
                                      response time and secondary features, like the unread count, are loaded later.</p>
                                  <p class="education-info">Since the extra request is done via JavaScript, the whole
                                      page can be edge-cached on a CDN to further improve performance.</p>
                                  <br>
                                  <h2><strong>Cleanup</strong></h2>
                                  <br>
                                  <p>We'll first remove the dynamic content from our pages to make them easier to cache. We'll remove the @current_user from the cache key in the cache block again, so they're no longer cached for each user. Then, we'll remove the query that finds the unread counts from the controller, and remove the CSS class names from the view.</p>
                                  <br>
                                  <img src="images/Blog-3-3.png" style="border: 2px solid gray; border-radius: 2%;">
                                  <br>
                                  <br>
                                  <p>We're left with a generic page that is easier to cache but lacks our unread responses feature. Let's add it back.</p>
                                  <br>
                                  <h2><strong>The Endpoint</strong></h2>
                                  <br>
                                  <p>We'll first create an endpoint to find the unread responses for a user. We'd like to alter the current state of the page after it's been rendered, so we'll request JSON from it.</p>
                                  <br>
                                  <img src="images/Blog-3-4.png" style="border: 2px solid gray; border-radius: 2%;">
                                  <br>
                                  <br>
                                  <img src="images/Blog-3-5.png" style="border: 2px solid gray; border-radius: 2%;">
                                  <br>
                                  <br>
                                  <img src="images/Blog-3-6.png" style="border: 2px solid gray; border-radius: 2%;">
                                  <br>
                                  <br>
                                  <p>Our endpoint will produce a list of unread response IDs.</p>
                                  <br>
                                  <img src="images/Blog-3-7.png" style="border: 2px solid gray; border-radius: 2%;">
                                  <br>
                                  <br>
                                  <p><i>Tip:</i> When loading a dynamic component that can be pre-rendered on the server, it's usually faster to do the HTML rendering on the server side, then inject the HTML into your page directly via JavaScript.</p>
                                  <br>
                                  <h2><strong>Showing Unread Responses</strong></h2>
                                  <br>
                                  <p>Instead of hardcoding the URL for the unread responses endpoint in the JavaScript code, we'll add it to a data attribute in the view, so we can refer to it later.</p>
                                  <br>
                                  <img src="images/Blog-3-8.png" style="border: 2px solid gray; border-radius: 2%;">
                                  <br>
                                  <br>
                                  <p>After the page has completed loading, we'll request the unread response IDs from our new endpoint. We'll then use the data from that list to mark each article as unread by adding a CSS class to it.</p>
                                  <br>
                                  <img src="images/Blog-3-9.png" style="border: 2px solid gray; border-radius: 2%;">
                                  <br>
                                  <br>
                                  <p>Because our Rails application uses Turbolinks, we'll wait for the page to be loaded by listening for the turbolinks:load event. When that event fires, we'll find the responses box using its ID.</p>
                                  <br>
                                  <p>We'll then check if the responses element has a loaded data attribute. We'll set this attribute after updating the unread responses later on, so we don't make any extra requests in case the page is reloaded using the browser's back button.</p>
                                  <br>
                                  <p>On the first load, the loaded attribute isn't set yet, so we'll continue to make the request to our endpoint. On success, we'll loop over each article in the returned result, find the response's element by its ID, and add our "unread" CSS class to it.</p>
                                  <br>
                                  <h2><strong>Sprinkles!</strong></h2>
                                  <br>
                                  <p>Fragment caching reusable content and sprinkling JavaScript onto your pages to add user-specific dynamic bits later on can make your app's initial response time faster by serving most of the important content straight from the cache. Although it takes time to do an extra request and update the page after the main content has been loaded, deferring dynamic content will make your app feel snappier, even when the full request takes longer than serving everything, including the user-specific parts, from the cache.</p>
                                  <br>
                                  <p>For more elaborate setups, be sure to check out Stimulus, a JavaScript library that wraps the sprinkles pattern into a framework that ties your HTML views to your JavaScript.</p>
                                  <br>
                                  <p>We hope you liked this introduction to JavaScript sprinkles in Rails applications. We'd love to know what you thought of this article, or if you have any questions. We're always on the lookout for topics to investigate and explain, so if there's anything magical in Ruby you'd like to read about, don't hesitate to leave a comment.</p>
                                  <br>
                                  <br>



                                
                                </div>
                                
                                <!-- Comments -->
                                 
                                                                                              
                            </div><!-- .col-md-12 .page -->
                        </div><!--.row end-->
                    </div> <!--.content .col-md-12 end -->
                </div> <!-- .col-md-9 end -->
            </div> <!-- .row end-->
        </div><!-- .container end -->
    </div> <!-- #wrapper end-->
    
    <!-- Sidebar Menu -->
    <div class="slidemenu-fixed">
        <button class="right-menu slidemenu-close"><i class="fa fa-times" aria-hidden="true"></i></button>  
        <div class="widget-out">     
            
             <!-- Categories Widget-->
            <div class="widget-submenu widget">
                <h2 class="widget-title">Categories</h2>
                    <ul>
                       <li> <a href="#about">ABOUT</a> </li>
                       <li> <a href="#resume">RESUME </a> </li>
                       <li> <a href="#portfolio">PORTFOLIO </a></li>
                       <li> <a href="#blog">BLOG </a></li>
                       <li> <a href="#contact">CONTACT </a></li>
                    </ul>
             </div>
             
        </div>
    </div>
    <div id="overlay"></div>
    
    
    <!-- Javascripts -->
    <script src="js/jquery-2.1.4.min.js"></script><!-- jQuery library -->
    <script src="js/styleswitcher.js"></script> 
	<script src="perfect-scrollbar/jquery.mousewheel.js"></script>
	<script src="perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="js/main.js"></script><!-- Main js -->
    
</body>

<!-- Mirrored from thetav.online/html/picard/single-blog.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 24 Nov 2021 21:05:37 GMT -->
</html>
